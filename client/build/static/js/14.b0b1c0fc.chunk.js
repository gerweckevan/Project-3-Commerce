(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{303:function(e,t,a){"use strict";a.r(t);var n=a(74),l=a.n(n),r=a(75),o=a(31),c=a(34),i=a(33),s=a(32),u=a(1),m=a.n(u),p=a(71),d=a.n(p),h=a(30),E=a(4),g=a(143),f=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggle=function(){return n.setState({modalEdit:!n.state.modalEdit})},n.onSubmit=function(e,t,a,l,r,o,c,i){d.a.post("/api/update/item",{id:e,title:t,price:a,color:(l.slice(0)+"").replace(/\s/g,"").split(","),size:(r.slice(0)+"").replace(/\s/g,"").split(","),tags:(o.slice(0)+"").replace(/\s/g,"").split(","),images:(c.slice(0)+"").replace(/\s/g,"").split(","),description:i}).then((function(e){n.setState({modalEdit:!n.state.modalEdit}),console.log(e)})).then((function(){window.location.reload(!0)})).catch((function(e){console.log(e)}))},n.onChangeTitle=function(e){return n.setState({title:e.target.value})},n.onChangePrice=function(e){return n.setState({price:e.target.value})},n.onChangeColor=function(e){return n.setState({colors:e.target.value})},n.onChangeSizes=function(e){return n.setState({sizes:e.target.value})},n.onChangeTags=function(e){return n.setState({tags:e.target.value})},n.onChangeImages=function(e){return n.setState({images:e.target.value})},n.onChangeDescription=function(e){return n.setState({description:e.target.value})},n.state={modalEdit:!1,title:n.props.infos.title,colors:n.props.infos.color,sizes:n.props.infos.size,tags:n.props.infos.tags,images:n.props.infos.images,description:n.props.infos.description,price:n.props.infos.price},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.colors,l=t.sizes,r=t.tags,o=t.images,c=t.description,i=t.price,s=this.props.infos._id;return m.a.createElement("div",null,m.a.createElement(E.c,{outline:!0,color:"primary",size:"sm",onClick:this.toggle},m.a.createElement(g.a,null)),m.a.createElement(E.D,{isOpen:this.state.modalEdit,toggle:this.toggle,className:this.props.className},m.a.createElement(E.G,{toggle:this.toggle},this.props.infos.title," - (id: ",s,")"),m.a.createElement(E.E,null,m.a.createElement(E.B,null,m.a.createElement(E.w,null,m.a.createElement(E.x,{addonType:"prepend"},m.a.createElement(E.y,null,"Name")),m.a.createElement(E.v,{placeholder:"default: "+this.props.infos.title,value:a,onChange:this.onChangeTitle})),m.a.createElement(E.w,null,m.a.createElement(E.x,{addonType:"prepend"},m.a.createElement(E.y,null,"Price $")),m.a.createElement(E.v,{placeholder:"default: "+this.props.infos.price,value:i,onChange:this.onChangePrice})),m.a.createElement(E.w,null,m.a.createElement(E.x,{addonType:"prepend"},m.a.createElement(E.y,null,"Colors")),m.a.createElement(E.v,{placeholder:"default: "+this.props.infos.color.map((function(e){return" "+e})),value:n,onChange:this.onChangeColor})),m.a.createElement(E.w,null,m.a.createElement(E.x,{addonType:"prepend"},m.a.createElement(E.y,null,"Sizes")),m.a.createElement(E.v,{placeholder:"default: "+this.props.infos.size.map((function(e){return e+" "+e})),value:l,onChange:this.onChangeSizes})),m.a.createElement(E.w,null,m.a.createElement(E.x,{addonType:"prepend"},m.a.createElement(E.y,null,"Category")),m.a.createElement(E.v,{placeholder:"default: "+this.props.infos.tags,value:r,onChange:this.onChangeTags})),m.a.createElement(E.w,null,m.a.createElement(E.x,{addonType:"prepend"},m.a.createElement(E.y,null,"Images")),m.a.createElement(E.v,{type:"textarea",placeholder:"default: "+this.props.infos.images.map((function(e){return e+" "+e})),value:o,onChange:this.onChangeImages})),m.a.createElement(E.w,null,m.a.createElement(E.x,{addonType:"prepend"},m.a.createElement(E.y,null,"description")),m.a.createElement(E.v,{type:"textarea",placeholder:"default: "+this.props.infos.description,value:c,onChange:this.onChangeDescription})))),m.a.createElement(E.F,null,m.a.createElement(E.c,{color:"primary",onClick:function(){return e.onSubmit(s,a,i,n,l,r,o,c)}},"Confirm the changes?")," ",m.a.createElement(E.c,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),a}(u.Component),v=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDelete=function(e){d.a.delete("/api/delete/item/",{params:{id:e}}).then((function(e){console.log(e),n.setState({modalEdit:!n.state.modalEdit})})).then((function(){window.location.reload(!0)})).catch((function(e){console.log(e)}))},n.toggle=function(){return n.setState({modalEdit:!n.state.modalEdit})},n.state={modalEdit:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.id;return m.a.createElement("div",null,m.a.createElement(E.c,{color:"danger",size:"sm",onClick:this.toggle},m.a.createElement(g.b,null)),m.a.createElement(E.D,{isOpen:this.state.modalEdit,toggle:this.toggle,className:this.props.className},m.a.createElement(E.G,{toggle:this.toggle},a),m.a.createElement(E.E,null,"You confirm deleting item ID: ",n,"?"),m.a.createElement(E.F,null,m.a.createElement(E.c,{color:"danger",onClick:function(){return e.handleDelete(n,a)}},"Confirm")," ",m.a.createElement(E.c,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),a}(u.Component),b=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={apiList:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/productsdata");case 3:return t=e.sent,e.next=6,t.data;case 6:a=e.sent,this.setState({apiList:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.stylesTab2,t=this.state.apiList;return m.a.createElement(E.T,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm"},m.a.createElement("thead",{style:e},m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"Title"),m.a.createElement("th",null,"Id"),m.a.createElement("th",null,"Price"),m.a.createElement("th",null,"Colors"),m.a.createElement("th",null,"Sizes"),m.a.createElement("th",null,"Tags"),m.a.createElement("th",null,"Images"),m.a.createElement("th",null,"Description"),m.a.createElement("th",null,"Edit"),m.a.createElement("th",null,"Delete"))),m.a.createElement("tbody",null,t.map((function(e,t){return m.a.createElement("tr",{key:e._id},m.a.createElement("th",{scope:"row"},t+1),m.a.createElement("td",null,e.title),m.a.createElement("td",null,e._id),m.a.createElement("td",null,e.price,"$"),m.a.createElement("td",null,e.color.map((function(e){return m.a.createElement("span",null,m.a.createElement("span",{style:(t=e,{textDecoration:"underline",textDecorationColor:t})},e)," / ");var t}))),m.a.createElement("td",null,e.size.map((function(e){return e+" / "}))),m.a.createElement("td",null,e.tags),m.a.createElement("td",null,e.images.length),m.a.createElement("td",null,e.description.substring(0,30)+"... "),m.a.createElement("td",null,m.a.createElement(f,{infos:e})),m.a.createElement("td",null,m.a.createElement(v,{id:e._id,title:e.title})))}))))}}]),a}(u.Component),C=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({modalEdit:!n.state.modalEdit})},n.onSubmit=function(e,t,a,n,l,r,o){d.a.post("/api/add/item",{title:e,price:t,color:(a.slice(0)+"").replace(/\s/g,"").split(","),size:(n.slice(0)+"").replace(/\s/g,"").split(","),tags:(l.slice(0)+"").replace(/\s/g,"").split(","),images:(r.slice(0)+"").replace(/\s/g,"").split(","),description:o}).then((function(){window.location.reload(!0)})).catch((function(e){console.log(e)}))},n.onChangeTitle=function(e){return n.setState({title:e.target.value})},n.onChangePrice=function(e){return n.setState({price:e.target.value})},n.onChangeColor=function(e){return n.setState({color:[e.target.value]})},n.onChangesize=function(e){return n.setState({size:e.target.value})},n.onChangeTags=function(e){return n.setState({tags:[e.target.value]})},n.onChangeImages=function(e){return n.setState({images:[e.target.value]})},n.onChangeDescription=function(e){return n.setState({description:e.target.value})},n.state={modalEdit:!1,title:"tteeest",color:"blue, red",size:"XS, L",tags:"Polos",images:"https://i.ytimg.com/vi/Bor5lkRyeGo/hqdefault.jpg, https://i.ytimg.com/vi/Bor5lkRyeGo/hqdefault.jpg",description:"",price:0,success:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.price,l=t.color,r=t.size,o=t.tags,c=t.images,i=t.description;return m.a.createElement(E.m,{style:{paddingTop:"50px",paddingBottom:"50px"}},m.a.createElement("h1",null,"Add new item"),m.a.createElement(E.s,null,m.a.createElement(E.u,null,m.a.createElement(E.A,{for:"exampleEmail"},"Item's name"),m.a.createElement(E.v,{placeholder:"example: cool polo",value:this.state.title,onChange:this.onChangeTitle})),m.a.createElement(E.u,null,m.a.createElement(E.A,{for:"exampleEmail"},"Price"),m.a.createElement(E.v,{placeholder:"example: 43",value:this.state.price,onChange:this.onChangePrice})),m.a.createElement(E.u,null,m.a.createElement(E.A,{for:"exampleEmail"},"color available"),m.a.createElement(E.v,{placeholder:"example: color1, color2, color3",value:this.state.color,onChange:this.onChangeColor})),m.a.createElement(E.u,null,m.a.createElement(E.A,{for:"exampleEmail"},"size available"),m.a.createElement(E.v,{placeholder:"example: XS, L, XL",value:this.state.size,onChange:this.onChangesize})),m.a.createElement(E.u,null,m.a.createElement(E.A,{for:"exampleEmail"},"Category"),m.a.createElement(E.v,{placeholder:"example: Polo",value:this.state.tags,onChange:this.onChangeTags})),m.a.createElement(E.u,null,m.a.createElement(E.A,{for:"exampleEmail"},"Images"),m.a.createElement(E.v,{placeholder:"example: http://link1.jpg, http://link2.jpg",value:this.state.images,onChange:this.onChangeImages})),m.a.createElement(E.u,null,m.a.createElement(E.A,{for:"examplePassword"},"Description"),m.a.createElement(E.v,{type:"textarea",value:this.state.description,onChange:this.onChangeDescription}))),m.a.createElement(E.c,{onClick:function(){return e.onSubmit(a,n,l,r,o,c,i)}},"Submit"))}}]),a}(u.Component),y=a(194),k=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/log");case 3:return t=e.sent,e.next=6,t.data;case 6:a=e.sent,n.setState({logData:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),n.state={logData:[]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.stylesTab4,t={labels:["Delete","Create","Update"],datasets:[{data:[this.state.logData.filter((function(e){return"Delete"===e.type})).length,this.state.logData.filter((function(e){return"Create"===e.type})).length,this.state.logData.filter((function(e){return"Update"===e.type})).length],backgroundColor:["#FF6384","#072a48","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},a={labels:this.state.logData.map((function(e){return new Date(e.time).toLocaleDateString("en-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit"})})),datasets:[{label:"Dashboard activity",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.state.logData.map((function(e,t){return t}))}]},n=this.state.logData.map((function(e,t){return m.a.createElement("tr",null,m.a.createElement("th",{scope:"row"},t+1),m.a.createElement("td",null,e.itemid),m.a.createElement("td",null,e.itemtitle),m.a.createElement("td",null,e.type),m.a.createElement("td",null,new Date(e.time).toLocaleDateString("en-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit"})))}));return m.a.createElement("div",null,m.a.createElement(E.Q,null,m.a.createElement(E.k,{md:"6"},m.a.createElement(E.T,{dark:!0,borderless:!0,hover:!0,size:"sm",responsive:!0},m.a.createElement("thead",{style:e},m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"Product ID"),m.a.createElement("th",null,"Product title"),m.a.createElement("th",null,"Type"),m.a.createElement("th",null,"Time stamp"))),m.a.createElement("tbody",null,n))),m.a.createElement(E.k,{md:"5"},m.a.createElement("div",{style:{paddingTop:"20px"}},m.a.createElement(y.a,{data:t})),m.a.createElement("div",{style:{paddingTop:"20px"}},m.a.createElement(y.b,{data:a,style:{paddingTop:"50px"}})))))}}]),a}(u.Component),x=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={apiList:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/orders");case 3:return t=e.sent,e.next=6,t.data;case 6:a=e.sent,this.setState({apiList:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.stylesTab1,t=this.state.apiList;return m.a.createElement(E.T,{responsive:!0,striped:!0,hover:!0,size:"sm"},m.a.createElement("thead",{style:e},m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"Id"),m.a.createElement("th",null,"Ref"),m.a.createElement("th",null,"Date"),m.a.createElement("th",null,"Order"),m.a.createElement("th",null,"Order Amount"),m.a.createElement("th",null,"Delivery Amount"),m.a.createElement("th",null,"Email"),m.a.createElement("th",null,"Last Name"),m.a.createElement("th",null,"First Name"),m.a.createElement("th",null,"Country"),m.a.createElement("th",null,"City"),m.a.createElement("th",null,"Province"),m.a.createElement("th",null,"Postal Code"),m.a.createElement("th",null,"Phone Number"),m.a.createElement("th",null,"Address"))),m.a.createElement("tbody",null,t.map((function(e,t){return m.a.createElement("tr",{key:e._id},m.a.createElement("th",{scope:"row"},t+1),m.a.createElement("td",null,e._id),m.a.createElement("td",null,e.ref),m.a.createElement("td",null,e.createdAt),m.a.createElement("td",null,e.order.map((function(e){return m.a.createElement("div",null,"x".concat(e.quantity," ").concat(e.idItem,"(").concat(e.titleItem,"[").concat(e.selectedSize,", ").concat(e.selectedColor,"] ").concat(e.price,"$) "))}))),m.a.createElement("td",null,e.totalAmount+" $"),m.a.createElement("td",null,e.totalDelivery+" $"),m.a.createElement("td",null,e.customerinfo.email),m.a.createElement("td",null,e.customerinfo.lastName),m.a.createElement("td",null,e.customerinfo.firstName),m.a.createElement("td",null,e.customerinfo.country),m.a.createElement("td",null,e.customerinfo.city),m.a.createElement("td",null,e.customerinfo.province),m.a.createElement("td",null,e.customerinfo.postalCode),m.a.createElement("td",null,e.customerinfo.phoneNumber),m.a.createElement("td",null,e.customerinfo.address1+" "+e.customerinfo.address2))}))))}}]),a}(u.Component),S=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/productsdata");case 3:return t=e.sent,e.next=6,t.data;case 6:a=e.sent,n.setState({apiList:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),n.toggle=function(e){return n.state.activeTab!==e&&n.setState({activeTab:e})},n.state={apiList:[],activeTab:"2"},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t={tab1:{cursor:"pointer",backgroundColor:"#cd5957",color:"white"},tab2:{cursor:"pointer",backgroundColor:"#78a4a2",color:"white"},tab3:{cursor:"pointer",backgroundColor:"#66bceb",color:"white"},tab4:{cursor:"pointer",backgroundColor:"#ffce56",color:"white"}};return m.a.createElement("div",null,m.a.createElement(E.H,{tabs:!0},m.a.createElement(E.I,null,m.a.createElement(E.J,{style:t.tab1,onClick:function(){e.toggle("1")}},m.a.createElement("b",null,"Orders"))),m.a.createElement(E.I,null,m.a.createElement(E.J,{style:t.tab2,onClick:function(){e.toggle("2")}},m.a.createElement("b",null,"Update/delete items"))),m.a.createElement(E.I,null,m.a.createElement(E.J,{style:t.tab3,onClick:function(){e.toggle("3")}},m.a.createElement("b",null,"Add new item"))),m.a.createElement(E.I,null,m.a.createElement(E.J,{style:t.tab4,onClick:function(){e.toggle("4")}},m.a.createElement("b",null,"History log")))),m.a.createElement(E.R,{activeTab:this.state.activeTab},m.a.createElement(E.S,{tabId:"1"},m.a.createElement(x,{stylesTab1:t.tab1})),m.a.createElement(E.S,{tabId:"2"},m.a.createElement(b,{stylesTab2:t.tab2})),m.a.createElement(E.S,{tabId:"3",style:t.tab3},m.a.createElement(C,null)),m.a.createElement(E.S,{tabId:"4"},m.a.createElement(k,{stylesTab4:t.tab4}))))}}]),a}(u.Component),O=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={authorization:!1,apiAuth:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"get",url:"/api/secret",headers:{Authorization:localStorage.getItem("token")}});case 3:return t=e.sent,e.next=6,t.data.authorization;case 6:a=e.sent,this.setState({apiAuth:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.apiAuth?m.a.createElement(S,null):m.a.createElement("p",null,"Authorization is required, please login here: ",m.a.createElement(h.a,{to:"/admin"},"login"));return m.a.createElement("div",null,e)}}]),a}(u.Component);t.default=O}}]);
//# sourceMappingURL=14.b0b1c0fc.chunk.js.map